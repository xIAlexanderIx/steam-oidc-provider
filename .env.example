# Steam API Key
# Obtain from: https://steamcommunity.com/dev/apikey
STEAM_API_KEY=your_steam_api_key_here

# OIDC Client Configuration
CLIENT_ID=steam-oidc
CLIENT_SECRET=your_secure_client_secret_here

# Public URL of this service
ISSUER_URL=https://steam-auth.example.com

# Comma-separated list of allowed redirect URIs
# Example for Keycloak: https://keycloak.example.com/realms/your-realm/broker/steam/endpoint
REDIRECT_URIS=https://keycloak.example.com/realms/your-realm/broker/steam/endpoint,http://localhost:8080/callback

# JWT signing secret (min 32 characters)
# Used to derive Ed25519 keypair for signing tokens
# Same secret = same keys across all instances
JWT_SECRET=your-super-secret-passphrase-at-least-32-chars

# Optional: Redis connection for distributed deployments (requires Redis 7.2+)
# If not set, uses in-memory storage
# REDIS_URL=redis://localhost:6379

# Optional: Token TTL configuration (in seconds)
ACCESS_TOKEN_TTL=3600
AUTH_CODE_TTL=300

# Optional: Server port
PORT=3000

# Optional: Base path for mounting the app under a subpath
# Use this when your reverse proxy forwards the full path instead of stripping it
# Example: BASE_PATH=/proxy/oidc/steam
# If not set, defaults to / (root)
# BASE_PATH=/

# Optional: Trust X-Forwarded-For headers for rate limiting
# Set to 'true' when running behind a reverse proxy (nginx, traefik, etc.)
# TRUSTED_PROXY=true
